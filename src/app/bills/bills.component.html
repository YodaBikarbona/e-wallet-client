<div class="bills p-2">
  <div>
    <h1>Costs</h1>
  </div>
  <div>
    <h3>Filter by</h3>
  </div>
  <div>
    <div class="row">
      <div class="col-md-4">
          <mat-form-field>
            <mat-label>Category</mat-label>
            <mat-select>
              <mat-option (onSelectionChange)="onChange(null, 'categoryId')" value="">
                <p>None</p>
              </mat-option>
              <mat-option *ngFor="let category of categories$" (onSelectionChange)="onChange(category.id, 'categoryId')" value="category.name">
                <p>{{ category.name }}</p>
              </mat-option>
            </mat-select>
          </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field>
          <mat-label>Sub category</mat-label>
          <mat-select>
            <mat-option (onSelectionChange)="onChange(null, 'subCategoryId')" value="">
                <p>None</p>
            </mat-option>
            <mat-option *ngFor="let sub_category of subCategories$" (onSelectionChange)="onChange(sub_category.id, 'subCategoryId')" value="sub_category.name">
              <p>{{ sub_category.name }}</p>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-4">
        <mat-form-field>
          <mat-label>Currency</mat-label>
          <mat-select>
            <mat-option (onSelectionChange)="onChange(null, 'currencyId')" value="">
                <p>None</p>
            </mat-option>
            <mat-option *ngFor="let currency of currencies$" (onSelectionChange)="onChange(currency.id, 'currencyId')" value="currency.name">
              <p>{{ currency.code }}</p>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-12">
        <h4>Results</h4>
      </div>
      <div class="col-md-12 mt-2 mat-elevation-z8" style="overflow-x: scroll">
        <table mat-table [dataSource]="costs$" class="col-md-12">
          <!-- Item Column -->
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Title </th>
            <td mat-cell *matCellDef="let cost"> {{cost.title}} </td>
            <td mat-footer-cell *matFooterCellDef> Total </td>
          </ng-container>

          <!-- Item Column -->
          <ng-container matColumnDef="comment">
            <th mat-header-cell *matHeaderCellDef> Comment </th>
            <td mat-cell *matCellDef="let cost"> {{cost.comment}} </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <!-- Item Column -->
          <ng-container matColumnDef="bill_category">
            <th mat-header-cell *matHeaderCellDef> Category </th>
            <td mat-cell *matCellDef="let cost"> {{cost?.bill_category?.name}} </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <!-- Item Column -->
          <ng-container matColumnDef="bill_sub_category">
            <th mat-header-cell *matHeaderCellDef> Sub category </th>
            <td mat-cell *matCellDef="let cost"> {{cost?.bill_sub_category?.name}} </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <!-- Item Column -->
          <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef> Image </th>
            <td mat-cell *matCellDef="let transaction"> {{transaction.image}} </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <!-- Cost Column >
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let transaction"> {{transaction.cost | currency}} </td>
            <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}} </td>

            <td mat-footer-cell *matFooterCellDef> {{getTotalCost()}} </td>
          </ng-container-->

          <tr mat-header-row *matHeaderRowDef="displayedColumns" class="tableHeader"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="data"></tr>
          <tr mat-footer-row *matFooterRowDef="displayedColumns" class="tableFooter"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
      </div>
    </div>
    </div>
    <div class="newBill row mt-2">
      <div class="col-md-10"></div>
      <div class="col-md-2 text-right">
        <button class="newBillButton" mat-button>New bill</button>
      </div>
    </div>
</div>
